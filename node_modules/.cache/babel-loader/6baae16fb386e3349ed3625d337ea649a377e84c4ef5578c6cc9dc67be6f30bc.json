{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/omrip/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/Web Studying/Personal Project/TechLecture/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/omrip/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/Web Studying/Personal Project/TechLecture/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/omrip/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/Web Studying/Personal Project/TechLecture/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import classes from\"./LectureList.module.css\";import{useAuthUser}from\"react-auth-kit\";import{Navigate,Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LectureList=function LectureList(){var _ref2;var auth=useAuthUser();var userEmail=auth().email;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userActivePresentations=_useState2[0],setUserActivePresentations=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var _ref;var getUserActivePresentations=function getUserActivePresentations(){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(// \"http://localhost:8080/userActivePresentations/\" + userEmail\n\"/userActivePresentations/\"+userEmail);case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;if(data.status===200){setUserActivePresentations(data.presentations);}setLoading(false);case 8:case\"end\":return _context.stop();}},_callee);}))).apply(this,arguments);};getUserActivePresentations();},[userEmail]);var handleDeletePresentation=function handleDeletePresentation(_x){return(_ref2=_ref2||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(presentationID){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(// \"http://localhost:8080/deleteUserActivePresentation/\",\n\"/deleteUserActivePresentation/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({presentationID:presentationID})});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;if(data.status===200){setUserActivePresentations(userActivePresentations.filter(function(presentation){return presentation._id!==presentationID;}));}else{console.log(data.message);}case 7:case\"end\":return _context2.stop();}},_callee2);}))).apply(this,arguments);};return/*#__PURE__*/_jsxs(\"div\",{className:classes[\"lecture-list-container\"],children:[/*#__PURE__*/_jsx(\"h2\",{className:classes[\"lecture-list-title\"],children:\"Your Active Lectures List\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):userActivePresentations.length===0?/*#__PURE__*/_jsx(\"p\",{className:classes[\".no-presentations-message\"],children:\"You have no active lectures.\"}):/*#__PURE__*/_jsx(\"ul\",{className:classes[\"lecture-list\"],children:userActivePresentations.map(function(presentation,index){return/*#__PURE__*/_jsxs(\"li\",{className:classes[\"lecture-item\"],children:[/*#__PURE__*/_jsxs(\"div\",{className:classes[\"lecture-info\"],children:[/*#__PURE__*/_jsxs(\"p\",{className:classes[\"serial-number\"],children:[\"Lecture Number: \",index+1]}),/*#__PURE__*/_jsxs(\"p\",{className:classes[\"lecture-name\"],children:[\"Topic: \",presentation.lectureTopic]}),/*#__PURE__*/_jsxs(\"p\",{className:classes[\"lecture-date\"],children:[\"Date: \",presentation.date]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"lectures-actions\"],children:[/*#__PURE__*/_jsx(Link,{to:\"/lectures/lecturerPosition/\".concat(presentation.fileNumber),className:classes[\"lecture-link\"],children:\"Link To Lecture\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDeletePresentation(presentation._id);},className:classes[\"delete-button\"],children:\"Delete Lecture\"})]})]},index);})})]});};export default LectureList;","map":{"version":3,"names":["useEffect","useState","classes","useAuthUser","Navigate","Link","jsx","_jsx","jsxs","_jsxs","LectureList","_ref2","auth","userEmail","email","_useState","_useState2","_slicedToArray","userActivePresentations","setUserActivePresentations","_useState3","_useState4","loading","setLoading","_ref","getUserActivePresentations","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","sent","json","status","presentations","stop","apply","arguments","handleDeletePresentation","_x","_callee2","presentationID","_callee2$","_context2","method","headers","body","JSON","stringify","filter","presentation","_id","console","log","message","className","children","length","map","index","lectureTopic","date","to","concat","fileNumber","onClick"],"sources":["C:/Users/omrip/OneDrive/שולחן העבודה/Web Studying/Personal Project/TechLecture/frontend/src/pages/ActivePresentations/LectureList.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport classes from \"./LectureList.module.css\";\r\nimport { useAuthUser } from \"react-auth-kit\";\r\nimport { Navigate, Link } from \"react-router-dom\";\r\n\r\nconst LectureList = () => {\r\n  const auth = useAuthUser();\r\n  const userEmail = auth().email;\r\n  const [userActivePresentations, setUserActivePresentations] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const getUserActivePresentations = async () => {\r\n      const response = await fetch(\r\n        // \"http://localhost:8080/userActivePresentations/\" + userEmail\r\n        \"/userActivePresentations/\" + userEmail\r\n      );\r\n      const data = await response.json();\r\n      if (data.status === 200) {\r\n        setUserActivePresentations(data.presentations);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    getUserActivePresentations();\r\n  }, [userEmail]);\r\n\r\n  const handleDeletePresentation = async (presentationID) => {\r\n    const response = await fetch(\r\n      // \"http://localhost:8080/deleteUserActivePresentation/\",\r\n      \"/deleteUserActivePresentation/\",\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ presentationID: presentationID }),\r\n      }\r\n    );\r\n    const data = await response.json();\r\n    if (data.status === 200) {\r\n      setUserActivePresentations(\r\n        userActivePresentations.filter(\r\n          (presentation) => presentation._id !== presentationID\r\n        )\r\n      );\r\n    } else {\r\n      console.log(data.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes[\"lecture-list-container\"]}>\r\n      <h2 className={classes[\"lecture-list-title\"]}>\r\n        Your Active Lectures List\r\n      </h2>\r\n      {loading ? (\r\n        <p>Loading...</p>\r\n      ) : userActivePresentations.length === 0 ? (\r\n        <p className={classes[\".no-presentations-message\"]}>\r\n          You have no active lectures.\r\n        </p>\r\n      ) : (\r\n        <ul className={classes[\"lecture-list\"]}>\r\n          {userActivePresentations.map((presentation, index) => (\r\n            <li key={index} className={classes[\"lecture-item\"]}>\r\n              <div className={classes[\"lecture-info\"]}>\r\n                <p className={classes[\"serial-number\"]}>\r\n                  Lecture Number: {index + 1}\r\n                </p>\r\n                <p className={classes[\"lecture-name\"]}>\r\n                  Topic: {presentation.lectureTopic}\r\n                </p>\r\n                <p className={classes[\"lecture-date\"]}>\r\n                  Date: {presentation.date}\r\n                </p>\r\n              </div>\r\n              <div className={classes[\"lectures-actions\"]}>\r\n                <Link\r\n                  to={`/lectures/lecturerPosition/${presentation.fileNumber}`}\r\n                  className={classes[\"lecture-link\"]}\r\n                >\r\n                  Link To Lecture\r\n                </Link>\r\n                <button\r\n                  onClick={() => handleDeletePresentation(presentation._id)}\r\n                  className={classes[\"delete-button\"]}\r\n                >\r\n                  Delete Lecture\r\n                </button>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LectureList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}