{"ast":null,"code":"import _toConsumableArray from\"C:/Users/omrip/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/Web Studying/Personal Project/TechLecture/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/omrip/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/Web Studying/Personal Project/TechLecture/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/omrip/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/Web Studying/Personal Project/TechLecture/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/omrip/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/Web Studying/Personal Project/TechLecture/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,createContext}from\"react\";import PDFViewer from\"../PDFViewer/PDFViewer \";import{useParams}from\"react-router-dom\";import{useAuthUser,useIsAuthenticated}from\"react-auth-kit\";import io from\"socket.io-client\";import\"./PresentationShow.css\";import NewUserPopUp from\"../../../components/NewUserPopUp/NewUserPopUp\";// export const fileNumberFromUrl = window.location.href.slice(48, 61);\n// console.log(window.location.href.slice(47, 61));\n// export const fileNumberContext = createContext({\n//   fileNumber: fileNumberFromUrl,\n// });\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PresentationShow=function PresentationShow(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),fileFounded=_useState2[0],setFiledFounded=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),fileUrl=_useState4[0],setFileUrl=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),lectureTitle=_useState6[0],setLectureTitle=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),lectureHours=_useState8[0],setLectureHours=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),lecturerName=_useState10[0],setLecturerName=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),userFileUrl=_useState12[0],setUserFileUrl=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),thereIsANewFile=_useState14[0],setThereIsANewFile=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),userFullName=_useState16[0],setUserFulleName=_useState16[1];var _useState17=useState(true),_useState18=_slicedToArray(_useState17,2),hasPermission=_useState18[0],setHasPermission=_useState18[1];// תיקנתי שגיאת כתיב\nvar _useState19=useState(\"File upload is not enabled\"),_useState20=_slicedToArray(_useState19,2),studentsUploadButtonText=_useState20[0],setStudentsUploadButtonText=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),studentsCanUploadFiles=_useState22[0],setStudentsCanUploadFiles=_useState22[1];var socket=io.connect();var auth=useAuthUser();var isAuthenticated=useIsAuthenticated();var fileNumber=useParams().fileNumber;console.log(\"file number: \"+fileNumber);var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),newUsers=_useState24[0],setNewUsers=_useState24[1];// תופסת למעקב אחרי המשתמשים החדשים שמתחברים\nvar clickHandle=function clickHandle(){setStudentsCanUploadFiles(!studentsCanUploadFiles);};useEffect(function(){var _ref;if(studentsCanUploadFiles===false){setStudentsUploadButtonText(\"File upload is not enabled\");}else{setStudentsUploadButtonText(\"File upload is enabled\");}var fetchData=function fetchData(){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,_data,presentationFileUrl;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(// \"http://localhost:8080/upload/\" + fileNumber\n\"/upload/\"+fileNumber);case 3:response=_context.sent;_context.next=6;return response.json();case 6:_data=_context.sent;if(_data.status===400){console.error(\"Failed to fetch data\");setFiledFounded(false);}else{if(_data.lecturerEmail!==auth().email){setHasPermission(false);}presentationFileUrl=// \"http://localhost:8080/uploads/\" + fileNumber + \".\" + data.fileType;\n\"/uploads/\"+fileNumber+\".\"+_data.fileType;setFileUrl(presentationFileUrl);setLectureTitle(_data.lectureTopic);setLectureHours(_data.hours);setLecturerName(_data.lecturerName);setFiledFounded(true);}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(\"An error occurred:\",_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}))).apply(this,arguments);};fetchData();if(props.viewType===\"lecturer\"){socket.emit(\"joinRoom\",{fileNumber:fileNumber});socket.on(\"receiveMessage\",function(_ref2){var message=_ref2.message;console.log(\"from data: \"+data.lectureNumber);console.log(\"from client: \"+fileNumber);setNewUsers(function(prevUsers){return[].concat(_toConsumableArray(prevUsers),[message]);});console.log(newUsers);});}},[fileNumber,fileUrl,studentsCanUploadFiles,socket,auth,newUsers,props.viewType]);useEffect(function(){var _ref3;var getStudentFile=function getStudentFile(){return(_ref3=_ref3||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,_data2;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!(props.viewType===\"lecturer\")){_context2.next=16;break;}_context2.prev=1;_context2.next=4;return fetch(\"/studentsUploads\");case 4:response=_context2.sent;_context2.next=7;return response.json();case 7:_data2=_context2.sent;console.log(_data2.fileNumber);console.log(fileNumber);if(_data2.status===200&&_data2.fileNumber===fileNumber){setUserFileUrl(_data2.fileUrl);setThereIsANewFile(true);setUserFulleName(_data2.userFullName);if(studentsCanUploadFiles){window.scrollTo(0,0);}}else if(_data2.status===404){setThereIsANewFile(false);}_context2.next=16;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 16:case\"end\":return _context2.stop();}},_callee2,null,[[1,13]]);}))).apply(this,arguments);};var intervalId=setInterval(getStudentFile,4000);return function(){return clearInterval(intervalId);};},[userFileUrl,props.viewType]);if(!fileUrl&&fileFounded){return/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"});}if(props.viewType===\"lecturer\"&&(!hasPermission||!isAuthenticated())){return/*#__PURE__*/_jsx(\"h1\",{children:\"You haven't permission to access this page.\"});}if(fileFounded){return/*#__PURE__*/_jsxs(\"div\",{children:[newUsers.map(function(user){return/*#__PURE__*/_jsx(NewUserPopUp,{message:user.message+\" joined\"},user.id);}),props.viewType===\"lecturer\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"centered-button\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"allowUploadingFiles\",onClick:clickHandle,value:studentsUploadButtonText,children:studentsUploadButtonText}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]}),thereIsANewFile&&studentsCanUploadFiles&&/*#__PURE__*/_jsx(\"div\",{className:\"window-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"image-preview\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overlayy\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Your student: \".concat(userFullName,\"\\n                   uploaded a new file.\"),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:userFileUrl,children:\"Open It\"})]})})})}),/*#__PURE__*/_jsx(PDFViewer,{url:fileUrl,lectureTitle:lectureTitle,lectureHours:lectureHours,lecturerName:lecturerName,fileNumber:fileNumber,viewType:props.viewType})]});}return/*#__PURE__*/_jsx(\"h1\",{className:\"fileNotFoundMessage\",children:\"Failed to find the requested file.\"});};export default PresentationShow;","map":{"version":3,"names":["useState","useEffect","createContext","PDFViewer","useParams","useAuthUser","useIsAuthenticated","io","NewUserPopUp","jsx","_jsx","jsxs","_jsxs","PresentationShow","props","_useState","_useState2","_slicedToArray","fileFounded","setFiledFounded","_useState3","_useState4","fileUrl","setFileUrl","_useState5","_useState6","lectureTitle","setLectureTitle","_useState7","_useState8","lectureHours","setLectureHours","_useState9","_useState10","lecturerName","setLecturerName","_useState11","_useState12","userFileUrl","setUserFileUrl","_useState13","_useState14","thereIsANewFile","setThereIsANewFile","_useState15","_useState16","userFullName","setUserFulleName","_useState17","_useState18","hasPermission","setHasPermission","_useState19","_useState20","studentsUploadButtonText","setStudentsUploadButtonText","_useState21","_useState22","studentsCanUploadFiles","setStudentsCanUploadFiles","socket","connect","auth","isAuthenticated","fileNumber","console","log","_useState23","_useState24","newUsers","setNewUsers","clickHandle","_ref","fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","_data","presentationFileUrl","wrap","_callee$","_context","prev","next","fetch","sent","json","data","status","error","lecturerEmail","email","fileType","lectureTopic","hours","t0","stop","apply","arguments","viewType","emit","on","_ref2","message","lectureNumber","prevUsers","concat","_toConsumableArray","_ref3","getStudentFile","_callee2","_data2","_callee2$","_context2","window","scrollTo","intervalId","setInterval","clearInterval","children","map","user","id","className","onClick","value","target","href","url"],"sources":["C:/Users/omrip/OneDrive/שולחן העבודה/Web Studying/Personal Project/TechLecture/frontend/src/pages/Presentation/PresentationShow/PresentationShow.js"],"sourcesContent":["import { useState, useEffect, createContext } from \"react\";\r\nimport PDFViewer from \"../PDFViewer/PDFViewer \";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useAuthUser, useIsAuthenticated } from \"react-auth-kit\";\r\nimport io from \"socket.io-client\";\r\n\r\nimport \"./PresentationShow.css\";\r\nimport NewUserPopUp from \"../../../components/NewUserPopUp/NewUserPopUp\";\r\n\r\n// export const fileNumberFromUrl = window.location.href.slice(48, 61);\r\n// console.log(window.location.href.slice(47, 61));\r\n\r\n// export const fileNumberContext = createContext({\r\n//   fileNumber: fileNumberFromUrl,\r\n// });\r\n\r\nconst PresentationShow = (props) => {\r\n  const [fileFounded, setFiledFounded] = useState(false);\r\n  const [fileUrl, setFileUrl] = useState(\"\");\r\n  const [lectureTitle, setLectureTitle] = useState(\"\");\r\n  const [lectureHours, setLectureHours] = useState(\"\");\r\n  const [lecturerName, setLecturerName] = useState(\"\");\r\n  const [userFileUrl, setUserFileUrl] = useState(\"\");\r\n  const [thereIsANewFile, setThereIsANewFile] = useState(false);\r\n  const [userFullName, setUserFulleName] = useState(\"\");\r\n  const [hasPermission, setHasPermission] = useState(true); // תיקנתי שגיאת כתיב\r\n  const [studentsUploadButtonText, setStudentsUploadButtonText] = useState(\r\n    \"File upload is not enabled\"\r\n  );\r\n  const [studentsCanUploadFiles, setStudentsCanUploadFiles] = useState(false);\r\n  const socket = io.connect();\r\n\r\n  const auth = useAuthUser();\r\n  const isAuthenticated = useIsAuthenticated();\r\n  const fileNumber = useParams().fileNumber;\r\n  console.log(\"file number: \" + fileNumber);\r\n\r\n  const [newUsers, setNewUsers] = useState([]); // תופסת למעקב אחרי המשתמשים החדשים שמתחברים\r\n\r\n  const clickHandle = () => {\r\n    setStudentsCanUploadFiles(!studentsCanUploadFiles);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (studentsCanUploadFiles === false) {\r\n      setStudentsUploadButtonText(\"File upload is not enabled\");\r\n    } else {\r\n      setStudentsUploadButtonText(\"File upload is enabled\");\r\n    }\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch(\r\n          // \"http://localhost:8080/upload/\" + fileNumber\r\n          \"/upload/\" + fileNumber\r\n        );\r\n\r\n        const data = await response.json();\r\n        if (data.status === 400) {\r\n          console.error(\"Failed to fetch data\");\r\n          setFiledFounded(false);\r\n        } else {\r\n          if (data.lecturerEmail !== auth().email) {\r\n            setHasPermission(false);\r\n          }\r\n          const presentationFileUrl =\r\n            // \"http://localhost:8080/uploads/\" + fileNumber + \".\" + data.fileType;\r\n            \"/uploads/\" + fileNumber + \".\" + data.fileType;\r\n          setFileUrl(presentationFileUrl);\r\n          setLectureTitle(data.lectureTopic);\r\n          setLectureHours(data.hours);\r\n          setLecturerName(data.lecturerName);\r\n          setFiledFounded(true);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"An error occurred:\", error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n\r\n    if (props.viewType === \"lecturer\") {\r\n      socket.emit(\"joinRoom\", { fileNumber });\r\n      socket.on(\"receiveMessage\", ({ message }) => {\r\n        console.log(\"from data: \" + data.lectureNumber);\r\n        console.log(\"from client: \" + fileNumber);\r\n\r\n        setNewUsers((prevUsers) => [...prevUsers, message]);\r\n        console.log(newUsers);\r\n      });\r\n    }\r\n  }, [\r\n    fileNumber,\r\n    fileUrl,\r\n    studentsCanUploadFiles,\r\n    socket,\r\n    auth,\r\n    newUsers,\r\n    props.viewType,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    const getStudentFile = async () => {\r\n      if (props.viewType === \"lecturer\") {\r\n        try {\r\n          // const response = await fetch(\"http://localhost:8080/studentsUploads\");\r\n          const response = await fetch(\"/studentsUploads\");\r\n          const data = await response.json();\r\n\r\n          console.log(data.fileNumber);\r\n          console.log(fileNumber);\r\n\r\n          if (data.status === 200 && data.fileNumber === fileNumber) {\r\n            setUserFileUrl(data.fileUrl);\r\n            setThereIsANewFile(true);\r\n            setUserFulleName(data.userFullName);\r\n\r\n            if (studentsCanUploadFiles) {\r\n              window.scrollTo(0, 0);\r\n            }\r\n          } else if (data.status === 404) {\r\n            setThereIsANewFile(false);\r\n          }\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    };\r\n    const intervalId = setInterval(getStudentFile, 4000);\r\n    return () => clearInterval(intervalId);\r\n  }, [userFileUrl, props.viewType]);\r\n\r\n  if (!fileUrl && fileFounded) {\r\n    return <h1>Loading...</h1>;\r\n  }\r\n\r\n  if (props.viewType === \"lecturer\" && (!hasPermission || !isAuthenticated())) {\r\n    return <h1>You haven't permission to access this page.</h1>;\r\n  }\r\n\r\n  if (fileFounded) {\r\n    return (\r\n      <div>\r\n        {newUsers.map((user) => (\r\n          <NewUserPopUp message={user.message + \" joined\"} key={user.id} />\r\n        ))}\r\n\r\n        {props.viewType === \"lecturer\" && (\r\n          <div className=\"centered-button\">\r\n            <button\r\n              className=\"allowUploadingFiles\"\r\n              onClick={clickHandle}\r\n              value={studentsUploadButtonText}\r\n            >\r\n              {studentsUploadButtonText}\r\n            </button>\r\n            <br />\r\n            <br />\r\n          </div>\r\n        )}\r\n        {thereIsANewFile && studentsCanUploadFiles && (\r\n          <div className=\"window-container\">\r\n            <div className=\"image-preview\">\r\n              <div className=\"overlayy\">\r\n                <p>\r\n                  {`Your student: ${userFullName}\r\n                   uploaded a new file.`}\r\n                  <br />\r\n                  <a target=\"_blank\" href={userFileUrl}>\r\n                    Open It\r\n                  </a>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        <PDFViewer\r\n          url={fileUrl}\r\n          lectureTitle={lectureTitle}\r\n          lectureHours={lectureHours}\r\n          lecturerName={lecturerName}\r\n          fileNumber={fileNumber}\r\n          viewType={props.viewType}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <h1 className=\"fileNotFoundMessage\">Failed to find the requested file.</h1>\r\n  );\r\n};\r\n\r\nexport default PresentationShow;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}