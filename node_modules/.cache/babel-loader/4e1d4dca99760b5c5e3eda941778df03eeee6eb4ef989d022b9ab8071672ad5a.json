{"ast":null,"code":"import _toConsumableArray from\"C:/Users/omrip/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/Web Studying/Personal Project/TechLecture/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/omrip/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/Web Studying/Personal Project/TechLecture/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/omrip/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/Web Studying/Personal Project/TechLecture/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/omrip/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/Web Studying/Personal Project/TechLecture/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,createContext}from\"react\";import PDFViewer from\"../PDFViewer/PDFViewer \";import{useParams}from\"react-router-dom\";import{useAuthUser,useIsAuthenticated}from\"react-auth-kit\";import io from\"socket.io-client\";import\"./PresentationShow.css\";import NewUserPopUp from\"../../../components/NewUserPopUp/NewUserPopUp\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var fileNumberFromUrl=window.location.href.slice(48,61);console.log(window.location.href.slice(47,61));export var fileNumberContext=/*#__PURE__*/createContext({fileNumber:fileNumberFromUrl});var PresentationShow=function PresentationShow(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),fileFounded=_useState2[0],setFiledFounded=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),fileUrl=_useState4[0],setFileUrl=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),lectureTitle=_useState6[0],setLectureTitle=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),lectureHours=_useState8[0],setLectureHours=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),lecturerName=_useState10[0],setLecturerName=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),userFileUrl=_useState12[0],setUserFileUrl=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),thereIsANewFile=_useState14[0],setThereIsANewFile=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),userFullName=_useState16[0],setUserFulleName=_useState16[1];var _useState17=useState(true),_useState18=_slicedToArray(_useState17,2),hasPermission=_useState18[0],setHasPermission=_useState18[1];// תיקנתי שגיאת כתיב\nvar _useState19=useState(\"File upload is not enabled\"),_useState20=_slicedToArray(_useState19,2),studentsUploadButtonText=_useState20[0],setStudentsUploadButtonText=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),studentsCanUploadFiles=_useState22[0],setStudentsCanUploadFiles=_useState22[1];var socket=io.connect(\"http://localhost:8081\");var auth=useAuthUser();var isAuthenticated=useIsAuthenticated();var fileNumber=useParams().fileNumber;console.log(\"file number: \"+fileNumber);var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),newUsers=_useState24[0],setNewUsers=_useState24[1];// תופסת למעקב אחרי המשתמשים החדשים שמתחברים\nvar clickHandle=function clickHandle(){setStudentsCanUploadFiles(!studentsCanUploadFiles);};useEffect(function(){var _ref;if(studentsCanUploadFiles===false){setStudentsUploadButtonText(\"File upload is not enabled\");}else{setStudentsUploadButtonText(\"File upload is enabled\");}var fetchData=function fetchData(){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,presentationFileUrl;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(// \"http://localhost:8080/upload/\" + fileNumber\n\"/upload/\"+fileNumber);case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;if(data.status===400){console.error(\"Failed to fetch data\");setFiledFounded(false);}else{if(data.lecturerEmail!==auth().email){setHasPermission(false);// תיקנתי שגיאת כתיב\n}presentationFileUrl=// \"http://localhost:8080/uploads/\" + fileNumber + \".\" + data.fileType;\n\"/uploads/\"+fileNumber+\".\"+data.fileType;setFileUrl(presentationFileUrl);setLectureTitle(data.lectureTopic);setLectureHours(data.hours);setLecturerName(data.lecturerName);setFiledFounded(true);}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(\"An error occurred:\",_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}))).apply(this,arguments);};fetchData();if(props.viewType===\"lecturer\"){socket.on(\"receiveMessage\",function(data){console.log(\"from data: \"+data.lectureNumber);console.log(\"from client: \"+window.location.href.slice(48,61));if(data.lectureNumber===window.location.href.slice(48,61)){setNewUsers(function(prevUsers){return[].concat(_toConsumableArray(prevUsers),[data]);});console.log(newUsers);}});}},[fileNumber,fileUrl,studentsCanUploadFiles,socket,auth,newUsers,props.viewType]);useEffect(function(){var _ref2;var getStudentFile=function getStudentFile(){return(_ref2=_ref2||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,data,presentationNumber;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!(props.viewType===\"lecturer\")){_context2.next=17;break;}_context2.prev=1;_context2.next=4;return fetch(\"/studentsUploads\");case 4:response=_context2.sent;_context2.next=7;return response.json();case 7:data=_context2.sent;presentationNumber=window.location.href.slice(48);console.log(data.presentationNumber);console.log(presentationNumber);if(data.status===200&&data.presentationNumber===presentationNumber){setUserFileUrl(data.fileUrl);setThereIsANewFile(true);setUserFulleName(data.userFullName);if(studentsCanUploadFiles){window.scrollTo(0,0);}}else if(data.status===404){setThereIsANewFile(false);}_context2.next=17;break;case 14:_context2.prev=14;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 17:case\"end\":return _context2.stop();}},_callee2,null,[[1,14]]);}))).apply(this,arguments);};var intervalId=setInterval(getStudentFile,4000);return function(){return clearInterval(intervalId);};},[userFileUrl,props.viewType]);if(!fileUrl&&fileFounded){return/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"});}if(props.viewType===\"lecturer\"&&(!hasPermission||!isAuthenticated())){return/*#__PURE__*/_jsx(\"h1\",{children:\"You haven't permission to access this page.\"});}if(fileFounded){return/*#__PURE__*/_jsxs(\"div\",{children:[newUsers.map(function(user){return/*#__PURE__*/_jsx(NewUserPopUp,{message:user.message+\" joined\"},user.id);}),props.viewType===\"lecturer\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"centered-button\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"allowUploadingFiles\",onClick:clickHandle,value:studentsUploadButtonText,children:studentsUploadButtonText}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]}),thereIsANewFile&&studentsCanUploadFiles&&/*#__PURE__*/_jsx(\"div\",{className:\"window-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"image-preview\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overlayy\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Your student: \".concat(userFullName,\"\\n                   uploaded a new file.\"),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:userFileUrl,children:\"Open It\"})]})})})}),/*#__PURE__*/_jsx(PDFViewer,{url:fileUrl,lectureTitle:lectureTitle,lectureHours:lectureHours,lecturerName:lecturerName,viewType:props.viewType})]});}return/*#__PURE__*/_jsx(\"h1\",{className:\"fileNotFoundMessage\",children:\"Failed to find the requested file.\"});};export default PresentationShow;","map":{"version":3,"names":["useState","useEffect","createContext","PDFViewer","useParams","useAuthUser","useIsAuthenticated","io","NewUserPopUp","jsx","_jsx","jsxs","_jsxs","fileNumberFromUrl","window","location","href","slice","console","log","fileNumberContext","fileNumber","PresentationShow","props","_useState","_useState2","_slicedToArray","fileFounded","setFiledFounded","_useState3","_useState4","fileUrl","setFileUrl","_useState5","_useState6","lectureTitle","setLectureTitle","_useState7","_useState8","lectureHours","setLectureHours","_useState9","_useState10","lecturerName","setLecturerName","_useState11","_useState12","userFileUrl","setUserFileUrl","_useState13","_useState14","thereIsANewFile","setThereIsANewFile","_useState15","_useState16","userFullName","setUserFulleName","_useState17","_useState18","hasPermission","setHasPermission","_useState19","_useState20","studentsUploadButtonText","setStudentsUploadButtonText","_useState21","_useState22","studentsCanUploadFiles","setStudentsCanUploadFiles","socket","connect","auth","isAuthenticated","_useState23","_useState24","newUsers","setNewUsers","clickHandle","_ref","fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","presentationFileUrl","wrap","_callee$","_context","prev","next","fetch","sent","json","status","error","lecturerEmail","email","fileType","lectureTopic","hours","t0","stop","apply","arguments","viewType","on","lectureNumber","prevUsers","concat","_toConsumableArray","_ref2","getStudentFile","_callee2","presentationNumber","_callee2$","_context2","scrollTo","intervalId","setInterval","clearInterval","children","map","user","message","id","className","onClick","value","target","url"],"sources":["C:/Users/omrip/OneDrive/שולחן העבודה/Web Studying/Personal Project/TechLecture/frontend/src/pages/Presentation/PresentationShow/PresentationShow.js"],"sourcesContent":["import { useState, useEffect, createContext } from \"react\";\r\nimport PDFViewer from \"../PDFViewer/PDFViewer \";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useAuthUser, useIsAuthenticated } from \"react-auth-kit\";\r\nimport io from \"socket.io-client\";\r\n\r\nimport \"./PresentationShow.css\";\r\nimport NewUserPopUp from \"../../../components/NewUserPopUp/NewUserPopUp\";\r\n\r\nexport const fileNumberFromUrl = window.location.href.slice(48, 61);\r\nconsole.log(window.location.href.slice(47, 61));\r\n\r\nexport const fileNumberContext = createContext({\r\n  fileNumber: fileNumberFromUrl,\r\n});\r\n\r\nconst PresentationShow = (props) => {\r\n  const [fileFounded, setFiledFounded] = useState(false);\r\n  const [fileUrl, setFileUrl] = useState(\"\");\r\n  const [lectureTitle, setLectureTitle] = useState(\"\");\r\n  const [lectureHours, setLectureHours] = useState(\"\");\r\n  const [lecturerName, setLecturerName] = useState(\"\");\r\n  const [userFileUrl, setUserFileUrl] = useState(\"\");\r\n  const [thereIsANewFile, setThereIsANewFile] = useState(false);\r\n  const [userFullName, setUserFulleName] = useState(\"\");\r\n  const [hasPermission, setHasPermission] = useState(true); // תיקנתי שגיאת כתיב\r\n  const [studentsUploadButtonText, setStudentsUploadButtonText] = useState(\r\n    \"File upload is not enabled\"\r\n  );\r\n  const [studentsCanUploadFiles, setStudentsCanUploadFiles] = useState(false);\r\n  const socket = io.connect(\"http://localhost:8081\");\r\n\r\n  const auth = useAuthUser();\r\n  const isAuthenticated = useIsAuthenticated();\r\n  const fileNumber = useParams().fileNumber;\r\n  console.log(\"file number: \" + fileNumber);\r\n\r\n  const [newUsers, setNewUsers] = useState([]); // תופסת למעקב אחרי המשתמשים החדשים שמתחברים\r\n\r\n  const clickHandle = () => {\r\n    setStudentsCanUploadFiles(!studentsCanUploadFiles);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (studentsCanUploadFiles === false) {\r\n      setStudentsUploadButtonText(\"File upload is not enabled\");\r\n    } else {\r\n      setStudentsUploadButtonText(\"File upload is enabled\");\r\n    }\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch(\r\n          // \"http://localhost:8080/upload/\" + fileNumber\r\n          \"/upload/\" + fileNumber\r\n        );\r\n\r\n        const data = await response.json();\r\n        if (data.status === 400) {\r\n          console.error(\"Failed to fetch data\");\r\n          setFiledFounded(false);\r\n        } else {\r\n          if (data.lecturerEmail !== auth().email) {\r\n            setHasPermission(false); // תיקנתי שגיאת כתיב\r\n          }\r\n          const presentationFileUrl =\r\n            // \"http://localhost:8080/uploads/\" + fileNumber + \".\" + data.fileType;\r\n            \"/uploads/\" + fileNumber + \".\" + data.fileType;\r\n          setFileUrl(presentationFileUrl);\r\n          setLectureTitle(data.lectureTopic);\r\n          setLectureHours(data.hours);\r\n          setLecturerName(data.lecturerName);\r\n          setFiledFounded(true);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"An error occurred:\", error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n    if (props.viewType === \"lecturer\") {\r\n      socket.on(\"receiveMessage\", (data) => {\r\n        console.log(\"from data: \" + data.lectureNumber);\r\n        console.log(\"from client: \" + window.location.href.slice(48, 61));\r\n\r\n        if (data.lectureNumber === window.location.href.slice(48, 61)) {\r\n          setNewUsers((prevUsers) => [...prevUsers, data]);\r\n          console.log(newUsers);\r\n        }\r\n      });\r\n    }\r\n  }, [\r\n    fileNumber,\r\n    fileUrl,\r\n    studentsCanUploadFiles,\r\n    socket,\r\n    auth,\r\n    newUsers,\r\n    props.viewType,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    const getStudentFile = async () => {\r\n      if (props.viewType === \"lecturer\") {\r\n        try {\r\n          // const response = await fetch(\"http://localhost:8080/studentsUploads\");\r\n          const response = await fetch(\"/studentsUploads\");\r\n          const data = await response.json();\r\n          const presentationNumber = window.location.href.slice(48);\r\n\r\n          console.log(data.presentationNumber);\r\n          console.log(presentationNumber);\r\n\r\n          if (\r\n            data.status === 200 &&\r\n            data.presentationNumber === presentationNumber\r\n          ) {\r\n            setUserFileUrl(data.fileUrl);\r\n            setThereIsANewFile(true);\r\n            setUserFulleName(data.userFullName);\r\n\r\n            if (studentsCanUploadFiles) {\r\n              window.scrollTo(0, 0);\r\n            }\r\n          } else if (data.status === 404) {\r\n            setThereIsANewFile(false);\r\n          }\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    };\r\n    const intervalId = setInterval(getStudentFile, 4000);\r\n    return () => clearInterval(intervalId);\r\n  }, [userFileUrl, props.viewType]);\r\n\r\n  if (!fileUrl && fileFounded) {\r\n    return <h1>Loading...</h1>;\r\n  }\r\n\r\n  if (props.viewType === \"lecturer\" && (!hasPermission || !isAuthenticated())) {\r\n    return <h1>You haven't permission to access this page.</h1>;\r\n  }\r\n\r\n  if (fileFounded) {\r\n    return (\r\n      <div>\r\n        {newUsers.map((user) => (\r\n          <NewUserPopUp message={user.message + \" joined\"} key={user.id} />\r\n        ))}\r\n\r\n        {props.viewType === \"lecturer\" && (\r\n          <div className=\"centered-button\">\r\n            <button\r\n              className=\"allowUploadingFiles\"\r\n              onClick={clickHandle}\r\n              value={studentsUploadButtonText}\r\n            >\r\n              {studentsUploadButtonText}\r\n            </button>\r\n            <br />\r\n            <br />\r\n          </div>\r\n        )}\r\n        {thereIsANewFile && studentsCanUploadFiles && (\r\n          <div className=\"window-container\">\r\n            <div className=\"image-preview\">\r\n              <div className=\"overlayy\">\r\n                <p>\r\n                  {`Your student: ${userFullName}\r\n                   uploaded a new file.`}\r\n                  <br />\r\n                  <a target=\"_blank\" href={userFileUrl}>\r\n                    Open It\r\n                  </a>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        <PDFViewer\r\n          url={fileUrl}\r\n          lectureTitle={lectureTitle}\r\n          lectureHours={lectureHours}\r\n          lecturerName={lecturerName}\r\n          viewType={props.viewType}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <h1 className=\"fileNotFoundMessage\">Failed to find the requested file.</h1>\r\n  );\r\n};\r\n\r\nexport default PresentationShow;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}