{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/omrip/Desktop/Web Studying/Personal Project/TechLecture/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/omrip/Desktop/Web Studying/Personal Project/TechLecture/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/omrip/Desktop/Web Studying/Personal Project/TechLecture/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import classes from\"./LectureList.module.css\";import{useAuthUser}from\"react-auth-kit\";import{Navigate,Link}from\"react-router-dom\";import{baseApi}from\"../../consts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LectureList=function LectureList(){var _ref2;var auth=useAuthUser();var userEmail=auth().email;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userActivePresentations=_useState2[0],setUserActivePresentations=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var _ref;var getUserActivePresentations=function getUserActivePresentations(){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(baseApi,\"/userActivePresentations/\").concat(userEmail));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;if(data.status===200){setUserActivePresentations(data.presentations);}setLoading(false);case 8:case\"end\":return _context.stop();}},_callee);}))).apply(this,arguments);};getUserActivePresentations();},[userEmail]);var handleDeletePresentation=function handleDeletePresentation(_x){return(_ref2=_ref2||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(presentationID){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(baseApi,\"/deleteUserActivePresentation/\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({presentationID:presentationID})});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;if(data.status===200){setUserActivePresentations(userActivePresentations.filter(function(presentation){return presentation._id!==presentationID;}));}else{console.log(data.message);}case 7:case\"end\":return _context2.stop();}},_callee2);}))).apply(this,arguments);};return/*#__PURE__*/_jsxs(\"div\",{className:classes[\"lecture-list-container\"],children:[/*#__PURE__*/_jsx(\"h2\",{className:classes[\"lecture-list-title\"],children:\"Your Active Lectures List\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):userActivePresentations.length===0?/*#__PURE__*/_jsx(\"p\",{className:classes[\".no-presentations-message\"],children:\"You have no active lectures.\"}):/*#__PURE__*/_jsx(\"ul\",{className:classes[\"lecture-list\"],children:userActivePresentations.map(function(presentation,index){return/*#__PURE__*/_jsxs(\"li\",{className:classes[\"lecture-item\"]+\" flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:classes[\"lecture-info\"],children:[/*#__PURE__*/_jsxs(\"p\",{className:classes[\"serial-number\"],children:[\"Lecture Number: \",index+1]}),/*#__PURE__*/_jsxs(\"p\",{className:classes[\"lecture-name\"],children:[\"Topic: \",presentation.lectureTopic]}),/*#__PURE__*/_jsxs(\"p\",{className:classes[\"lecture-date\"],children:[\"Date: \",presentation.date]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"lectures-actions flex\"],children:[/*#__PURE__*/_jsx(Link,{to:\"/lectures/lecturerPosition/\".concat(presentation.fileNumber),className:classes[\"lecture-link\"],children:\"Link To Lecture\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDeletePresentation(presentation._id);},className:classes[\"delete-button\"],children:\"Delete Lecture\"})]})]},index);})})]});};export default LectureList;","map":{"version":3,"names":["useEffect","useState","classes","useAuthUser","Navigate","Link","baseApi","jsx","_jsx","jsxs","_jsxs","LectureList","_ref2","auth","userEmail","email","_useState","_useState2","_slicedToArray","userActivePresentations","setUserActivePresentations","_useState3","_useState4","loading","setLoading","_ref","getUserActivePresentations","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","concat","sent","json","status","presentations","stop","apply","arguments","handleDeletePresentation","_x","_callee2","presentationID","_callee2$","_context2","method","headers","body","JSON","stringify","filter","presentation","_id","console","log","message","className","children","length","map","index","lectureTopic","date","to","fileNumber","onClick"],"sources":["C:/Users/omrip/Desktop/Web Studying/Personal Project/TechLecture/frontend/src/pages/ActivePresentations/LectureList.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport classes from \"./LectureList.module.css\";\r\nimport { useAuthUser } from \"react-auth-kit\";\r\nimport { Navigate, Link } from \"react-router-dom\";\r\nimport { baseApi } from \"../../consts\";\r\n\r\nconst LectureList = () => {\r\n  const auth = useAuthUser();\r\n  const userEmail = auth().email;\r\n  const [userActivePresentations, setUserActivePresentations] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const getUserActivePresentations = async () => {\r\n      const response = await fetch(\r\n        `${baseApi}/userActivePresentations/${userEmail}`\r\n      );\r\n      const data = await response.json();\r\n      if (data.status === 200) {\r\n        setUserActivePresentations(data.presentations);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    getUserActivePresentations();\r\n  }, [userEmail]);\r\n\r\n  const handleDeletePresentation = async (presentationID) => {\r\n    const response = await fetch(`${baseApi}/deleteUserActivePresentation/`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ presentationID: presentationID }),\r\n    });\r\n    const data = await response.json();\r\n    if (data.status === 200) {\r\n      setUserActivePresentations(\r\n        userActivePresentations.filter(\r\n          (presentation) => presentation._id !== presentationID\r\n        )\r\n      );\r\n    } else {\r\n      console.log(data.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes[\"lecture-list-container\"]}>\r\n      <h2 className={classes[\"lecture-list-title\"]}>\r\n        Your Active Lectures List\r\n      </h2>\r\n      {loading ? (\r\n        <p>Loading...</p>\r\n      ) : userActivePresentations.length === 0 ? (\r\n        <p className={classes[\".no-presentations-message\"]}>\r\n          You have no active lectures.\r\n        </p>\r\n      ) : (\r\n        <ul className={classes[\"lecture-list\"]}>\r\n          {userActivePresentations.map((presentation, index) => (\r\n            <li key={index} className={classes[\"lecture-item\"] + \" flex\"}>\r\n              <div className={classes[\"lecture-info\"]}>\r\n                <p className={classes[\"serial-number\"]}>\r\n                  Lecture Number: {index + 1}\r\n                </p>\r\n                <p className={classes[\"lecture-name\"]}>\r\n                  Topic: {presentation.lectureTopic}\r\n                </p>\r\n                <p className={classes[\"lecture-date\"]}>\r\n                  Date: {presentation.date}\r\n                </p>\r\n              </div>\r\n              <div className={classes[\"lectures-actions flex\"]}>\r\n                <Link\r\n                  to={`/lectures/lecturerPosition/${presentation.fileNumber}`}\r\n                  className={classes[\"lecture-link\"]}\r\n                >\r\n                  Link To Lecture\r\n                </Link>\r\n                <button\r\n                  onClick={() => handleDeletePresentation(presentation._id)}\r\n                  className={classes[\"delete-button\"]}\r\n                >\r\n                  Delete Lecture\r\n                </button>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LectureList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}